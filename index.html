<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Custom Grid Element</title>
        <link rel="stylesheet" href="./styles.css">
    </head>
    <body>

            <div class="fab-container">
                <div class="fab-button">+</div>
                <div class="fab-dropdown hidden" id="fabDropdown">
                    <button class="dropdown-btn" data-algo="bfs" data-title="BFS">BFS</button>
                    <button class="dropdown-btn" data-algo="dfs" data-title="DFS">DFS</button>
                    <button class="dropdown-btn" data-algo="djk" data-title="Djkstra's">Djkstra's</button>
                </div>                
            </div>
              
            <path-finding-simulator algo="astar" title="watashiwastar"></path-finding-simulator>
        
            <script type="module">
                import './simulator.js';

                function newSim(attributes) {
                    const sim = document.createElement('path-finding-simulator');
                    for (const [key, value] of Object.entries(attributes)) {
                        sim.setAttribute(key, value);
                    }
                    document.body.appendChild(sim);
                }
        
                function toggleDropdown() {
                    const dropdown = document.getElementById('fabDropdown');
                    dropdown.classList.toggle('hidden');
                }

                document.addEventListener('DOMContentLoaded', () => {
                    const fabButton = document.querySelector('.fab-button');
                    const dropdownButtons = document.querySelectorAll('.fab-dropdown .dropdown-btn');

                    fabButton.addEventListener('click', toggleDropdown);

                    dropdownButtons.forEach(button => {
                        button.addEventListener('click', () => {
                            const algo = button.dataset.algo;
                            const title = button.dataset.title;
                            newSim({ algo, title });
                        });
                    });
                });

            </script>
    </body>
</html>
